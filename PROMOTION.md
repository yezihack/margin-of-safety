# Margin - 用结构对抗情绪，让投资回归理性

> "从短期来看，市场是一台投票机；但从长期来看，它是一台称重机。" —— 本杰明·格雷厄姆

## 你是否也有这些困扰？

- 📉 **市场暴跌时**，恐慌性抛售，错过反弹机会
- 📈 **市场暴涨时**，追高买入，成为最后的接盘侠
- 🤔 **不知道何时调整**，资产配置长期失衡
- 😰 **情绪化操作**，频繁交易导致收益不佳
- 📊 **缺乏纪律**，无法坚持长期投资策略

如果你也有这些问题，那么 **Margin** 就是为你准备的。

---

## 什么是 Margin？

**Margin（安全边际）** 是一款基于格雷厄姆《聪明的投资者》理念的投资组合管理工具。它不是教你如何选股，而是帮你建立一套**机械化、纪律化**的资产配置体系，让你在市场波动中保持理性。

🔗 **项目地址**: <https://github.com/yezihack/margin-of-safety>

![20260205202719](https://cdn.jsdelivr.net/gh/yezihack/assets/b/20260205202719.png)

---

## 为什么需要资产配置？

### 📚 格雷厄姆的智慧

本杰明·格雷厄姆在《聪明的投资者》中提出了一个简单但有效的策略：

> **将资金分配在股票和债券之间，比例可以是 50:50，也可以根据市场情况在 25:75 到 75:25 之间调整。**

这个策略的核心是：

- ✅ **牛市不缺席**：保持一定股票仓位，享受上涨收益
- ✅ **熊市不致命**：债券提供安全垫，降低波动风险
- ✅ **自动再平衡**：强制执行"低买高卖"，对抗人性弱点

### 📊 再平衡的威力

假设你采用 50:50 的股债配置：

**场景 1：股市上涨 20%**

- 股票从 50 万涨到 60 万
- 债券保持 50 万
- 总资产 110 万，股票占比 54.5%
- **再平衡操作**：卖出 5 万股票，买入债券 → 回到 55:55

**场景 2：股市下跌 20%**

- 股票从 50 万跌到 40 万
- 债券保持 50 万
- 总资产 90 万，股票占比 44.4%
- **再平衡操作**：卖出 5 万债券，买入股票 → 回到 45:45

通过这种机械化操作，你自然而然地实现了**高卖低买**，而不是追涨杀跌。

---

## Margin 能为你做什么？

### 🎯 核心功能

#### 1️⃣ 资产管理 - 一键录入，自动识别

- 输入基金代码（如：`000001`），自动获取基金名称和类型
- 智能识别股票型/债券型基金
- 支持多来源管理（招商银行、支付宝、天天基金等）
- 金额数据 **AES-256 加密**，安全可靠

#### 2️⃣ 再平衡建议 - 告别情绪化决策

系统提供三种经典配置模型：

| 策略 | 股票 | 债券 | 适合人群 |
|------|------|------|----------|
| 🛡 **极度防御型** | 25% | 75% | 新手、心理敏感型 |
| ⚖️ **平衡型** | 50% | 50% | 格雷厄姆推荐 |
| ⚔️ **进取型** | 70% | 30% | 有认知、有纪律 |

当你的实际配置偏离目标超过 **0.01%** 时，系统会：

- ✅ 精确计算需要调整的金额
- ✅ 给出具体操作步骤（买入/卖出多少）
- ✅ 解释操作原因（为什么要这样做）

#### 3️⃣ 历史记录 - 见证复利的力量

- 📊 **趋势图表**：直观展示股债比例变化
- 📝 **操作日志**：记录每次再平衡的时间、比例、金额
- ⏱️ **时间提醒**：显示距离上次再平衡多久了
- 💡 **心得备注**：记录当时的市场环境和心理状态

#### 4️⃣ 投资组合分析 - 全局视角

- 🥧 **饼图展示**：当前股债配置一目了然
- 📊 **柱状图对比**：各类资产金额对比
- 📈 **指数行情**：实时显示上证、沪深300、标普500、纳斯达克

#### 5️⃣ 安全与隐私 - 你的数据只属于你

- 🔒 **本地存储**：所有数据存储在本地，不上传任何服务器
- 🔐 **密码保护**：SHA-256 哈希存储，无法反向破解
- 🛡️ **金额加密**：AES-256-GCM 加密，即使数据库泄露也无法读取
- ⏰ **自动锁屏**：可配置 0-30 分钟无操作自动锁定

---

## 为什么选择 Margin？

### ✅ 对比其他工具

| 特性 | Margin | 券商 APP | Excel 表格 | 其他工具 |
|------|--------|----------|------------|----------|
| **离线使用** | ✅ | ❌ | ✅ | ❌ |
| **数据加密** | ✅ | ✅ | ❌ | ⚠️ |
| **再平衡建议** | ✅ | ❌ | ❌ | ⚠️ |
| **历史追踪** | ✅ | ⚠️ | ❌ | ✅ |
| **跨平台** | ✅ | ⚠️ | ✅ | ⚠️ |
| **开源免费** | ✅ | ❌ | ✅ | ❌ |
| **无广告** | ✅ | ❌ | ✅ | ❌ |

### 🎨 现代化界面

- 基于 **Element Plus** 设计，美观易用
- **ECharts** 图表，数据可视化
- 响应式布局，适配各种屏幕尺寸
- 流畅的动画效果，提升使用体验

### 🚀 技术优势

- **Wails v2** 框架：原生性能，体积小巧（约 30-50 MB）
- **纯 Go SQLite**：无需 CGO，跨平台编译无障碍
- **Vue 3 + TypeScript**：现代化前端技术栈
- **完全离线**：不依赖网络，数据完全掌控

---

## 真实用户场景

### 场景 1：新手投资者 - 小王

**背景**：刚开始投资，容易被市场情绪影响

**使用前**：

- 看到股市涨就追高买入
- 看到股市跌就恐慌卖出
- 一年下来，频繁操作，收益为负

**使用后**：

- 采用 **25:75 防御型**配置
- 每季度查看一次再平衡建议
- 机械化执行，不再情绪化操作
- 一年后，虽然市场波动，但心态平稳，收益稳定

### 场景 2：老股民 - 老张

**背景**：投资 10 年，经历多轮牛熊

**使用前**：

- 凭感觉调整仓位
- 经常在高点满仓，低点空仓
- 虽然经验丰富，但收益不稳定

**使用后**：

- 采用 **50:50 平衡型**配置
- 严格执行再平衡纪律
- 用 Margin 记录每次操作
- 发现自己的收益曲线更平滑，年化收益提升 1-2%

### 场景 3：上班族 - 小李

**背景**：工作忙碌，没时间盯盘

**使用前**：

- 买了基金就不管了
- 几年后发现配置严重失衡
- 不知道该如何调整

**使用后**：

- 每月花 10 分钟更新资产
- 每季度根据建议调整一次
- 完全不需要盯盘
- 投资变成了一件轻松的事

---

## 立即开始

### 📥 下载安装

访问 GitHub Release 页面下载最新版本：
👉 <https://github.com/yezihack/margin-of-safety/releases>

**支持平台**：

- ✅ Windows 10/11 (64-bit)
- ✅ macOS 10.15+ (Intel & Apple Silicon)
- ✅ Linux (主流发行版)

### 🚀 快速上手

1. **设置密码** - 首次启动设置主密码
2. **添加资产** - 输入基金代码，自动获取信息
3. **选择策略** - 选择适合自己的股债比例
4. **查看建议** - 系统自动计算再平衡方案
5. **记录操作** - 完成调整后记录历史

### 📖 详细文档

- [README.md](https://github.com/yezihack/margin-of-safety/blob/main/README.md) - 项目介绍
- [USER_GUIDE.md](https://github.com/yezihack/margin-of-safety/blob/main/USER_GUIDE.md) - 使用手册

---

## 常见问题

### Q1: 这个工具能帮我选股吗？

**A**: 不能。Margin 不是选股工具，而是**资产配置管理工具**。它的核心理念是：**选股很难，但配置很简单**。通过机械化的再平衡策略，你可以在不选股的情况下获得稳定收益。

### Q2: 我需要多久调整一次？

**A**: 根据格雷厄姆的建议：

- **最少**：每年一次
- **推荐**：每季度一次
- **最多**：每月一次

过于频繁的调整会增加交易成本，降低收益。

### Q3: 数据安全吗？

**A**: 非常安全！

- ✅ 所有数据存储在**本地**，不上传任何服务器
- ✅ 金额数据使用 **AES-256 加密**
- ✅ 密码使用 **SHA-256 哈希**存储
- ✅ 完全**开源**，代码可审计

### Q4: 为什么是免费的？

**A**: 这是一个**开源项目**，遵循 GNU GPL 许可证。我相信好的工具应该被更多人使用，而不是被商业化限制。如果你觉得有用，欢迎：

- ⭐ 给项目点个 Star
- 🐛 提交 Issue 或 PR
- 📢 分享给更多人

### Q5: 我可以贡献代码吗？

**A**: 当然可以！欢迎提交 PR，一起完善这个工具。

---

## 投资理念

### 📖 推荐阅读

如果你想深入了解资产配置的理念，推荐阅读：

1. **《聪明的投资者》** - 本杰明·格雷厄姆
   - 价值投资的圣经
   - 安全边际的核心思想

2. **《漫步华尔街》** - 伯顿·马尔基尔
   - 指数基金投资指南
   - 资产配置的实践方法

3. **《投资最重要的事》** - 霍华德·马克斯
   - 风险控制的艺术
   - 逆向思维的价值

### 💡 核心原则

1. **结构对抗情绪** - 用机械化的规则对抗人性的弱点
2. **纪律胜过聪明** - 坚持简单的策略比追求复杂的技巧更有效
3. **时间是朋友** - 长期持有，让复利发挥作用
4. **安全边际** - 永远为不确定性留出空间

---

## 加入我们

### 🌟 Star 支持

如果你觉得 Margin 有用，请给项目点个 Star：
👉 <https://github.com/yezihack/margin-of-safety>

### 🐛 问题反馈

遇到问题或有功能建议？欢迎提交 Issue：
👉 <https://github.com/yezihack/margin-of-safety/issues>

### 💬 交流讨论

欢迎在 GitHub Discussions 中交流投资心得：
👉 <https://github.com/yezihack/margin-of-safety/discussions>

### 🤝 贡献代码

欢迎提交 PR，一起完善这个工具：
👉 <https://github.com/yezihack/margin-of-safety/pulls>

---

## 最后的话

投资是一场马拉松，不是百米冲刺。

**Margin** 不会让你一夜暴富，但它能帮你：

- ✅ 建立理性的投资体系
- ✅ 养成良好的投资习惯
- ✅ 对抗人性的贪婪和恐惧
- ✅ 在市场波动中保持平静

记住格雷厄姆的话：

> "投资的秘诀不在于评估一个行业对社会的影响有多大，或它的发展前景有多好，而在于一家公司到底值多少钱，你用多少钱买它。"

**用结构对抗情绪，让投资回归理性。**

立即下载 Margin，开始你的理性投资之旅！

🔗 **项目地址**: <https://github.com/yezihack/margin-of-safety>

---

**免责声明**：本工具仅用于资产配置管理，不构成任何投资建议。投资有风险，决策需谨慎。使用本工具产生的任何投资损失，开发者不承担责任。

---

**License**: GNU General Public License v3.0  
**Author**: [@yezihack](https://github.com/yezihack)  
**Version**: 1.0.0

⭐ **如果觉得有用，请给项目点个 Star！**
